# データ取込サンプルデータ

このディレクトリにはデータ取込機能のテスト用サンプルデータが含まれています。

## ファイル一覧

| ファイル名 | 行数 | 説明 |
|-----------|------|------|
| `budget_sample_small.csv` | 10行 | 基本的な予算データ（エラーなし） |
| `budget_sample_with_errors.csv` | 10行 | エラーを含む予算データ（検証テスト用） |
| `budget_sample_vertical.csv` | 36行 | 縦持ちフォーマット（年月が行方向） |
| `budget_sample_large.csv` | 6,000行 | 大量データ（5,000行超で警告ダイアログ表示） |

## データ形式

### 横持ちフォーマット（標準）

```csv
科目コード,部門コード,PJコード,4月,5月,6月,7月,8月,9月,10月,11月,12月,1月,2月,3月
1000,S01,PJ001,1500000,1600000,1550000,...
```

### 縦持ちフォーマット

```csv
科目コード,部門コード,PJコード,年月,金額
1000,S01,PJ001,2026-04,1500000
1000,S01,PJ001,2026-05,1600000
```

## マスタコード

### 科目コード
| コード | 科目名 |
|--------|--------|
| 1000 | 売上高 |
| 2000 | 売上原価 |
| 3000 | 販管費 |
| 4000 | 販管費 |
| 4100 | 研究開発費 |

### 部門コード
| コード | 部門名 |
|--------|--------|
| S01 | 営業1課 |
| S02 | 営業2課 |
| D01 | 開発部 |
| D02 | 第二開発 |

### プロジェクトコード
| コード | プロジェクト名 |
|--------|---------------|
| PJ001 | プロジェクト1 |
| PJ002 | プロジェクト2 |
| PJ003 | プロジェクト3 |
| (空白) | プロジェクトなし |

## エラーサンプル（budget_sample_with_errors.csv）

| 行 | エラー内容 |
|----|-----------|
| 2行目 | 科目コードが空 |
| 4行目 | 存在しない科目コード(9999) |
| 5行目 | 存在しない部門コード(XXXX) |
| 6行目 | 金額に文字列("abc") |
| 8行目 | 金額がマイナス(-80000) |
| 10行目 | 部門コードが空 |

## 使い方

1. ブラウザで http://localhost:3000/data-integration/import を開く
2. データ種類を「予算データ」に設定
3. イベント・バージョンを選択
4. CSVファイルをドラッグ＆ドロップ、またはコピペで貼り付け

## 大量データテスト

`budget_sample_large.csv`（6,000行）を使用すると、5,000行を超えるため「大量データの検出」ダイアログが表示されます。

- **集計して続行**: 同一キーの行を集計して行数を削減
- **そのまま続行**: 全行をプレビュー表示（処理に時間がかかる場合あり）
