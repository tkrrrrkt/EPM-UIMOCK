# 会議イベント管理 Requirements

> **ステータス**: Phase 2 実装中
> **作成日**: 2026-01-25
> **スコープ**: B1（イベント一覧）、B2（イベント作成）、B3（登録状況管理）、B4（会議クローズ）、B5（議事録登録）
> **対象ユーザー**: 経営企画部、管理者

---

## Spec Reference

- **仕様概要（SSoT）**: [.kiro/specs/仕様概要/経営会議レポート機能.md](../../仕様概要/経営会議レポート機能.md)
- **仕様検討**: [.kiro/specs/仕様検討/20260115_経営会議レポート機能.md](../../仕様検討/20260115_経営会議レポート機能.md)
- **v0プロンプト**: [.kiro/specs/仕様検討/20260115_経営会議レポート機能_v0プロンプト.md](../../仕様検討/20260115_経営会議レポート機能_v0プロンプト.md)

---

## Functional Requirements

### FR-1: 会議イベント一覧表示（B1）

| ID | 要件 | 優先度 | ステータス |
|----|------|--------|------------|
| FR-1.1 | 会議イベントを一覧表示できる | P1 | ✅ 実装済み |
| FR-1.2 | 会議種別でフィルタできる | P1 | ✅ 実装済み |
| FR-1.3 | ステータスでフィルタできる | P1 | ✅ 実装済み |
| FR-1.4 | 対象年度でフィルタできる | P1 | ✅ 実装済み |
| FR-1.5 | キーワードで検索できる | P1 | ✅ 実装済み |
| FR-1.6 | 行クリックでレポート画面へ遷移できる | P1 | ✅ 実装済み |
| FR-1.7 | ステータスをバッジで色分け表示する | P1 | ✅ 実装済み |
| FR-1.8 | ページネーションで大量データに対応する | P1 | ✅ 実装済み |

**表示項目**:
- イベントコード
- 会議名
- 会議種別名
- 対象期間（例: 2026年6月度）
- ステータス（DRAFT/OPEN/COLLECTING/DISTRIBUTED/HELD/CLOSED/ARCHIVED）
- 報告締切日
- 会議日

---

### FR-2: 会議イベント作成（B2）

| ID | 要件 | 優先度 | ステータス |
|----|------|--------|------------|
| FR-2.1 | ステップウィザード形式で会議を作成できる | P1 | ✅ 実装済み |
| FR-2.2 | Step1: 会議種別を選択できる | P1 | ✅ 実装済み |
| FR-2.3 | Step1: 会議名を入力できる | P1 | ✅ 実装済み |
| FR-2.4 | Step1: 対象年度・対象月を選択できる | P1 | ✅ 実装済み |
| FR-2.5 | Step2: 報告締切日を設定できる | P1 | ✅ 実装済み |
| FR-2.6 | Step2: 資料配信日を設定できる（任意） | P2 | ✅ 実装済み |
| FR-2.7 | Step2: 会議日を設定できる | P1 | ✅ 実装済み |
| FR-2.8 | Step3: 設定内容を確認できる | P1 | ✅ 実装済み |
| FR-2.9 | 作成後は一覧画面に戻る | P1 | ✅ 実装済み |

**バリデーション**:
- 会議種別: 必須
- 会議名: 必須、最大200文字
- 対象年度: 必須
- 報告締切日: 必須
- 会議日: 必須

---

### FR-3: 会議イベント更新

| ID | 要件 | 優先度 | ステータス |
|----|------|--------|------------|
| FR-3.1 | 会議イベントの基本情報を編集できる | P2 | 未実装 |
| FR-3.2 | ステータスを変更できる | P1 | ✅ 実装済み |

---

### FR-4: 登録状況管理（B3）

| ID | 要件 | 優先度 | ステータス |
|----|------|--------|------------|
| FR-4.1 | 部門別の提出状況を一覧表示できる | P1 | 未実装 |
| FR-4.2 | ステータス（未着手/作成中/提出済）でフィルタできる | P1 | 未実装 |
| FR-4.3 | 締切超過の部門を強調表示する | P1 | 未実装 |
| FR-4.4 | 特定部門に催促メールを送信できる | P2 | 未実装 |
| FR-4.5 | 提出状況サマリー（提出率、未提出数等）を表示する | P1 | 未実装 |
| FR-4.6 | 最終催促日時を表示する | P2 | 未実装 |

**表示項目**:
- 部門名
- 部門レベル（部門/事業部/全社）
- 提出ステータス
- 提出日時
- 提出者名
- 締切超過フラグ
- 最終催促日時

---

### FR-5: 会議クローズ（B4）

| ID | 要件 | 優先度 | ステータス |
|----|------|--------|------------|
| FR-5.1 | 会議ステータスをCLOSEDに変更できる | P1 | 未実装 |
| FR-5.2 | クローズ時にスナップショットを取得するか選択できる | P1 | 未実装 |
| FR-5.3 | スナップショット種別（数値/KPI/AP）を選択できる | P2 | 未実装 |
| FR-5.4 | クローズ前に確認ダイアログを表示する | P1 | 未実装 |
| FR-5.5 | クローズ後はイベント情報を編集不可にする | P1 | 未実装 |
| FR-5.6 | クローズ備考を入力できる | P2 | 未実装 |

**スナップショット種別**:
- FACT_SUMMARY: 数値サマリー
- KPI_STATUS: KPI達成状況
- ACTION_PROGRESS: アクションプラン進捗

---

### FR-6: 議事録登録（B5）

| ID | 要件 | 優先度 | ステータス |
|----|------|--------|------------|
| FR-6.1 | 議事録本文をリッチテキストで入力できる | P1 | 未実装 |
| FR-6.2 | 決定事項を配列で入力できる | P1 | 未実装 |
| FR-6.3 | 出席者を入力できる | P1 | 未実装 |
| FR-6.4 | 添付ファイルをアップロードできる | P2 | 未実装 |
| FR-6.5 | 議事録を保存できる | P1 | 未実装 |
| FR-6.6 | 議事録の更新履歴を表示する | P3 | 未実装 |

**議事録項目**:
- 本文（リッチテキスト）
- 決定事項（配列）
- 出席者
- 添付ファイル（複数可）
- 作成日時/更新日時

---

## Non-Functional Requirements

### NFR-1: セキュリティ

| ID | 要件 |
|----|------|
| NFR-1.1 | UIはBFF経由でのみデータを取得する（Domain API直接アクセス禁止） |
| NFR-1.2 | tenant_idによるマルチテナント分離を行う |
| NFR-1.3 | 認証されたユーザーのみアクセス可能とする |

### NFR-2: UI/UX

| ID | 要件 |
|----|------|
| NFR-2.1 | デザインシステム（epm-design-system.md）に準拠する |
| NFR-2.2 | UIパターン定義（一覧パターン、フォームパターン）に準拠する |
| NFR-2.3 | レスポンシブ対応（デスクトップ優先） |
| NFR-2.4 | ローディング状態を表示する |
| NFR-2.5 | エラー時はトースト通知を表示する |

### NFR-3: 開発ガイドライン

| ID | 要件 |
|----|------|
| NFR-3.1 | CCSDD（Contracts-first）に準拠する |
| NFR-3.2 | v0生成UIは`_v0_drop`に隔離する |
| NFR-3.3 | Structure Guardをパスしてから本番移行する |
| NFR-3.4 | BffClientパターンを使用する（fetch直書き禁止） |

---

## Out of Scope（本Spec対象外）

以下は別Specで管理：

| 機能 | 対象Spec |
|------|----------|
| 部門報告登録（C1, C2, C3） | `department-submission/` |
| レポート閲覧（D1-D8） | `meeting-report-view/` |
| 会議種別設定（A1-A4） | `meeting-master-management/` |

---

## Glossary

| 用語 | 説明 |
|------|------|
| 会議イベント | 特定の月度に開催される会議のインスタンス |
| 会議種別 | 会議の種類（月次経営会議、取締役会等） |
| ステータス | DRAFT → OPEN → COLLECTING → DISTRIBUTED → HELD → CLOSED → ARCHIVED |
| スナップショット | 会議時点の数値・KPI・APをJSON保存したもの |
| 議事録 | 会議の記録（決定事項、出席者、添付資料を含む） |
| 催促 | 未提出部門への提出依頼通知 |

---

## 変更履歴

| 日付 | 変更内容 |
|------|----------|
| 2026-01-25 | 初版作成（Phase 1スコープ） |
| 2026-01-25 | Spec分割により独立化 |
| 2026-01-25 | Phase 2スコープ追加（B3, B4, B5） |
